# Styling in Next.js - Complete Guide

## Table of Contents
1. [CSS Fundamentals in Next.js](#css-fundamentals)
2. [CSS Modules](#css-modules)
3. [Global CSS](#global-css)
4. [Tailwind CSS Integration](#tailwind-css)
5. [Combining Approaches](#combining-approaches)
6. [Performance Considerations](#performance)
7. [Best Practices](#best-practices)
8. [Real-World Examples](#real-world-examples)

---

## CSS Fundamentals in Next.js {#css-fundamentals}

### How CSS Works in Next.js

Next.js provides built-in CSS support with automatic optimization. Understanding the compilation process:

1. **Build Time**: CSS is processed, minified, and optimized
2. **Runtime**: Styles are loaded efficiently with code splitting
3. **SSR Support**: Styles are included in server-rendered HTML

### File Structure for Styling

```
src/
├── app/
│   ├── globals.css          # Global styles
│   ├── layout.tsx           # Root layout
│   └── page.tsx             # Home page
├── components/
│   ├── Button/
│   │   ├── Button.tsx
│   │   └── Button.module.css # CSS Module
│   └── Header/
│       ├── Header.tsx
│       └── Header.module.css
└── styles/
    ├── globals.css          # Additional global styles
    └── components.css       # Shared component styles
```

---

## CSS Modules {#css-modules}

### What are CSS Modules?

CSS Modules automatically generate unique class names to avoid conflicts. They provide:
- **Local scope** by default
- **Predictable class names** during development
- **Hash-based names** in production

### How CSS Modules Work (First Principles)

1. **Compilation**: `button` becomes `Button_button__a1b2c3`
2. **Import**: CSS classes become JavaScript objects
3. **Usage**: Reference classes via object properties

### Basic CSS Module Implementation

**components/Button/Button.module.css**
```css
/* Local styles - automatically scoped */
.button {
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
}

.primary {
  background-color: #3b82f6;
  color: white;
}

.primary:hover {
  background-color: #2563eb;
}

.secondary {
  background-color: #e5e7eb;
  color: #374151;
}

.secondary:hover {
  background-color: #d1d5db;
}

.large {
  padding: 16px 32px;
  font-size: 16px;
}

.small {
  padding: 8px 16px;
  font-size: 14px;
}

/* Disabled state */
.button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
```

**components/Button/Button.tsx**
```tsx
import React from 'react';
import styles from './Button.module.css';

interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary';
  size?: 'small' | 'large';
  disabled?: boolean;
  onClick?: () => void;
  className?: string; // For additional styles
}

const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'large',
  disabled = false,
  onClick,
  className
}) => {
  // Combining multiple CSS Module classes
  const buttonClasses = [
    styles.button,           // Base button styles
    styles[variant],         // Variant styles (primary/secondary)
    styles[size],            // Size styles
    className                // External classes
  ].filter(Boolean).join(' ');

  return (
    <button
      className={buttonClasses}
      disabled={disabled}
      onClick={onClick}
    >
      {children}
    </button>
  );
};

export default Button;
```

### Advanced CSS Module Patterns

**components/Card/Card.module.css**
```css
/* Container styles */
.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Nested elements */
.header {
  padding: 20px;
  border-bottom: 1px solid #e5e7eb;
}

.title {
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  color: #111827;
}

.content {
  padding: 20px;
}

.footer {
  padding: 16px 20px;
  background-color: #f9fafb;
  border-top: 1px solid #e5e7eb;
}

/* Modifier classes */
.highlighted {
  border: 2px solid #3b82f6;
}

.compact .header,
.compact .content {
  padding: 12px 16px;
}

/* Responsive styles */
@media (max-width: 768px) {
  .card {
    border-radius: 8px;
  }
  
  .header,
  .content {
    padding: 16px;
  }
}
```

**components/Card/Card.tsx**
```tsx
import React from 'react';
import styles from './Card.module.css';
import { clsx } from 'clsx'; // Popular utility for conditional classes

interface CardProps {
  children: React.ReactNode;
  title?: string;
  footer?: React.ReactNode;
  highlighted?: boolean;
  compact?: boolean;
  className?: string;
}

const Card: React.FC<CardProps> = ({
  children,
  title,
  footer,
  highlighted = false,
  compact = false,
  className
}) => {
  return (
    <div
      className={clsx(
        styles.card,
        {
          [styles.highlighted]: highlighted,
          [styles.compact]: compact
        },
        className
      )}
    >
      {title && (
        <div className={styles.header}>
          <h3 className={styles.title}>{title}</h3>
        </div>
      )}
      
      <div className={styles.content}>
        {children}
      </div>
      
      {footer && (
        <div className={styles.footer}>
          {footer}
        </div>
      )}
    </div>
  );
};

export default Card;
```

### CSS Module Composition

**styles/base.module.css**
```css
/* Base utility classes */
.flex {
  display: flex;
}

.center {
  align-items: center;
  justify-content: center;
}

.textCenter {
  text-align: center;
}

.rounded {
  border-radius: 8px;
}

.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
```

**components/Modal/Modal.module.css**
```css
/* Import and compose from base styles */
.overlay {
  composes: flex center from '../styles/base.module.css';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1000;
}

.modal {
  composes: rounded shadow from '../styles/base.module.css';
  background: white;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
}

.header {
  composes: flex from '../styles/base.module.css';
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #e5e7eb;
}

.closeButton {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #6b7280;
}
```

---

## Global CSS {#global-css}

### When to Use Global CSS

Global CSS is ideal for:
- **Reset/normalize styles**
- **Typography scales**
- **Color variables**
- **Layout utilities**
- **Third-party component overrides**

### Setting Up Global CSS

**app/globals.css**
```css
/* CSS Reset and Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

body {
  background-color: #ffffff;
  color: #111827;
  font-weight: 400;
}

/* CSS Custom Properties (Variables) */
:root {
  /* Colors */
  --color-primary: #3b82f6;
  --color-primary-dark: #1e40af;
  --color-secondary: #64748b;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  
  /* Typography */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  
  /* Border radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  
  /* Breakpoints (for JS usage) */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  :root {
    --color-primary: #60a5fa;
    --color-primary-dark: #3b82f6;
  }
  
  body {
    background-color: #0f172a;
    color: #f1f5f9;
  }
}

/* Typography Scale */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: var(--spacing-md);
}

h1 { font-size: var(--font-size-3xl); }
h2 { font-size: var(--font-size-2xl); }
h3 { font-size: var(--font-size-xl); }
h4 { font-size: var(--font-size-lg); }
h5 { font-size: var(--font-size-base); }
h6 { font-size: var(--font-size-sm); }

p {
  margin-bottom: var(--spacing-md);
  line-height: 1.6;
}

/* Link styles */
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--color-primary-dark);
  text-decoration: underline;
}

/* Focus styles for accessibility */
*:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Utility classes */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

@media (min-width: 768px) {
  .container {
    padding: 0 var(--spacing-lg);
  }
}

/* Loading and transition utilities */
.fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  
  h1, h2, h3 {
    page-break-after: avoid;
  }
}
```

**app/layout.tsx**
```tsx
import './globals.css'; // Import global styles
import type { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'My Next.js App',
  description: 'A modern web application',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className="fade-in">
        <div className="container">
          {children}
        </div>
      </body>
    </html>
  );
}
```

### Component-Specific Global Styles

**styles/components.css**
```css
/* Global component styles that need to override third-party libraries */

/* React Hot Toast customization */
.toast-success {
  background-color: var(--color-success) !important;
  color: white !important;
}

.toast-error {
  background-color: var(--color-error) !important;
  color: white !important;
}

/* React Modal customization */
.ReactModal__Overlay {
  background-color: rgba(0, 0, 0, 0.5) !important;
  z-index: 1000;
}

.ReactModal__Content {
  border: none !important;
  border-radius: var(--radius-lg) !important;
  box-shadow: var(--shadow-lg) !important;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* Selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

/* Form input styles */
input[type="text"],
input[type="email"],
input[type="password"],
textarea,
select {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid #d1d5db;
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Button reset */
button {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;
}
```

---

## Tailwind CSS Integration {#tailwind-css}

### Why Tailwind CSS?

Tailwind provides:
- **Utility-first** approach
- **Consistent design system**
- **Rapid development**
- **Automatic purging** of unused styles
- **Responsive design** utilities

### Installing and Configuring Tailwind

```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**tailwind.config.js**
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      // Custom colors
      colors: {
        primary: {
          50: '#eff6ff',
          100: '#dbeafe',
          200: '#bfdbfe',
          300: '#93c5fd',
          400: '#60a5fa',
          500: '#3b82f6', // Main primary color
          600: '#2563eb',
          700: '#1d4ed8',
          800: '#1e40af',
          900: '#1e3a8a',
        },
        secondary: {
          50: '#f8fafc',
          100: '#f1f5f9',
          200: '#e2e8f0',
          300: '#cbd5e1',
          400: '#94a3b8',
          500: '#64748b', // Main secondary color
          600: '#475569',
          700: '#334155',
          800: '#1e293b',
          900: '#0f172a',
        }
      },
      
      // Custom spacing
      spacing: {
        '18': '4.5rem',
        '88': '22rem',
        '128': '32rem',
      },
      
      // Custom fonts
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        serif: ['Merriweather', 'serif'],
        mono: ['Fira Code', 'monospace'],
      },
      
      // Custom animations
      animation: {
        'fade-in': 'fadeIn 0.3s ease-in',
        'slide-up': 'slideUp 0.3s ease-out',
        'bounce-slow': 'bounce 2s infinite',
      },
      
      // Custom keyframes
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { opacity: '0', transform: 'translateY(20px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' },
        }
      },
      
      // Custom breakpoints
      screens: {
        'xs': '475px',
        '3xl': '1600px',
      },
      
      // Custom box shadows
      boxShadow: {
        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
        'hard': '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
      }
    },
  },
  plugins: [
    require('@tailwindcss/forms'),      // Better form styling
    require('@tailwindcss/typography'), // Better typography
    require('@tailwindcss/aspect-ratio'), // Aspect ratio utilities
  ],
  darkMode: 'class', // Enable dark mode with class strategy
}
```

**app/globals.css** (Updated for Tailwind)
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply text-gray-900 bg-white;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold leading-tight;
  }
  
  h1 { @apply text-3xl; }
  h2 { @apply text-2xl; }
  h3 { @apply text-xl; }
  h4 { @apply text-lg; }
  h5 { @apply text-base; }
  h6 { @apply text-sm; }
}

/* Custom components */
@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply btn bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500;
  }
  
  .btn-secondary {
    @apply btn bg-secondary-100 text-secondary-700 hover:bg-secondary-200 focus:ring-secondary-500;
  }
  
  .btn-outline {
    @apply btn border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500;
  }
  
  .card {
    @apply bg-white rounded-xl shadow-soft p-6 border border-gray-100;
  }
  
  .form-input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }
}

/* Custom utilities */
@layer utilities {
  .text-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Dark mode styles */
@media (prefers-color-scheme: dark) {
  body {
    @apply text-gray-100 bg-gray-900;
  }
}

.dark {
  @apply text-gray-100 bg-gray-900;
}
```

### Tailwind Component Examples

**components/Button/Button.tsx** (Tailwind Version)
```tsx
import React from 'react';
import { clsx } from 'clsx';

interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  onClick?: () => void;
  className?: string;
  type?: 'button' | 'submit' | 'reset';
}

const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'md',
  disabled = false,
  loading = false,
  onClick,
  className,
  type = 'button'
}) => {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';
  
  const variantClasses = {
    primary: 'bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500',
    secondary: 'bg-secondary-100 text-secondary-700 hover:bg-secondary-200 focus:ring-secondary-500',
    outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500',
    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500'
  };
  
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };

  return (
    <button
      type={type}
      className={clsx(
        baseClasses,
        variantClasses[variant],
        sizeClasses[size],
        className
      )}
      disabled={disabled || loading}
      onClick={onClick}
    >
      {loading && (
        <svg
          className="animate-spin -ml-1 mr-2 h-4 w-4"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            className="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            strokeWidth="4"
          />
          <path
            className="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          />
        </svg>
      )}
      {children}
    </button>
  );
};

export default Button;
```

**components/Card/Card.tsx** (Tailwind Version)
```tsx
import React from 'react';
import { clsx } from 'clsx';

interface CardProps {
  children: React.ReactNode;
  title?: string;
  subtitle?: string;
  footer?: React.ReactNode;
  image?: string;
  hover?: boolean;
  padding?: 'none' | 'sm' | 'md' | 'lg';
  className?: string;
}

const Card: React.FC<CardProps> = ({
  children,
  title,
  subtitle,
  footer,
  image,
  hover = true,
  padding = 'md',
  className
}) => {
  const paddingClasses = {
    none: '',
    sm: 'p-4',
    md: 'p-6',
    lg: 'p-8'
  };

  return (
    <div
      className={clsx(
        'bg-white rounded-xl shadow-soft border border-gray-100 overflow-hidden',
        {
          'transition-all duration-200 hover:shadow-lg hover:-translate-y-1': hover
        },
        className
      )}
    >
      {image && (
        <div className="aspect-w-16 aspect-h-9">
          <img
            src={image}
            alt={title || 'Card image'}
            className="w-full h-48 object-cover"
          />
        </div>
      )}
      
      <div className={paddingClasses[padding]}>
        {(title || subtitle) && (
          <div className="mb-4">
            {title && (
              <h3 className="text-xl font-semibold text-gray-900 mb-1">
                {title}
              </h3>
            )}
            {subtitle && (
              <p className="text-gray-600">
                {subtitle}
              </p>
            )}
          </div>
        )}
        
        <div className="text-gray-700">
          {children}
        </div>
      </div>
      
      {footer && (
        <div className="px-6 py-4 bg-gray-50 border-t border-gray-100">
          {footer}
        </div>
      )}
    </div>
  );
};

export default Card;
```

### Advanced Tailwind Patterns

**components/Layout/Navbar.tsx**
```tsx
'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import { clsx } from 'clsx';

const Navbar: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);

  const navigation = [
    { name: 'Home', href: '/' },
    { name: 'About', href: '/about' },
    { name: 'Services', href: '/services' },
    { name: 'Contact', href: '/contact' },
  ];

  return (
    <nav className="bg-white shadow-lg sticky top-0 z-50">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-16">
          {/* Logo */}
          <div className="flex items-center">
            <Link href="/" className="flex-shrink-0">
              <span className="text-2xl font-bold text-gradient">
                MyApp
              </span>
            </Link>
          </div>

          {/* Desktop Navigation */}
          <div className="hidden md:flex items-center space-x-8">
            {navigation.map((item) => (
              <Link
                key={item.name}
                href={item.href}
                className="text-gray-700 hover:text-primary-500 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200"
              >
                {item.name}
              </Link>
            ))}
            
            <button className="btn-primary">
              Get Started
            </button>
          </div>

          {/* Mobile menu button */}
          <div className="md:hidden flex items-center">
            <button
              onClick={() => setIsOpen(!isOpen)}
              className="text-gray-700 hover:text-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500 p-2 rounded-md"
            >
              <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                {isOpen ? (
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                ) : (
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                )}
              </svg>
            </button>
          </div>
        </div>
      </div>

      {/* Mobile Navigation */}
      <div className={clsx(
        'md:hidden transition-all duration-300 ease-in-out',
        isOpen ? 'max-h-64 opacity-100' : 'max-h-0 opacity-0'
      )}>
        <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50">
          {navigation.map((item) => (
            <Link
              key={item.name}
              href={item.href}
              className="text-gray-700 hover:text-primary-500 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200"
              onClick={() => setIsOpen(false)}
            >
              {item.name}
            </Link>
          ))}
          
          <div className="px-3 py-2">
            <button className="btn-primary w-full">
              Get Started
            </button>
          </div>
        </div>
      </div>
    </nav>
  );
};

export default Navbar;
```

---

## Combining Approaches {#combining-approaches}

### When to Use Each Approach

| Approach | Best For | Pros | Cons |
|----------|----------|------|------|
| **CSS Modules** | Component-specific styles, complex layouts | Scoped styles, maintainable | More files, learning curve |
| **Global CSS** | Base styles, utilities, theme variables | Simple, familiar | Global scope, potential conflicts |
| **Tailwind CSS** | Rapid prototyping, consistent design systems | Fast development, small bundle | Verbose HTML, learning curve |

### Hybrid Approach Example

**components/ProductCard/ProductCard.tsx**
```tsx
import React from 'react';
import styles from './ProductCard.module.css';
import { clsx } from 'clsx';

interface Product {
  id: string;
  name: string;
  price: number;
  image: string;
  category: string;
  inStock: boolean;
}

interface ProductCardProps {
  product: Product;
  onAddToCart: (id: string) => void;
  className?: string;
}

const ProductCard: React.FC<ProductCardProps> = ({
  product,
  onAddToCart,
  className
}) => {
  return (
    <div className={clsx(
      // Tailwind for layout and spacing
      'bg-white rounded-xl shadow-soft border border-gray-100 overflow-hidden',
      'transition-all duration-200 hover:shadow-lg hover:-translate-y-1',
      // CSS Module for complex animations
      styles.productCard,
      className
    )}>
      {/* Image container with CSS Module for custom overlay */}
      <div className={clsx('relative', styles.imageContainer)}>
        <img
          src={product.image}
          alt={product.name}
          className="w-full h-48 object-cover"
        />
        
        {/* Stock status overlay */}
        {!product.inStock && (
          <div className={styles.outOfStockOverlay}>
            <span className="text-white font-semibold">Out of Stock</span>
          </div>
        )}
        
        {/* Quick view button - appears on hover */}
        <button className={styles.quickViewButton}>
          Quick View
        </button>
      </div>

      {/* Content using Tailwind */}
      <div className="p-4">
        <div className="mb-2">
          <span className="text-xs font-medium text-primary-500 uppercase tracking-wide">
            {product.category}
          </span>
        </div>
        
        <h3 className="text-lg font-semibold text-gray-900 mb-2 line-clamp-2">
          {product.name}
        </h3>
        
        <div className="flex items-center justify-between">
          <span className="text-2xl font-bold text-gray-900">
            ${product.price.toFixed(2)}
          </span>
          
          <button
            onClick={() => onAddToCart(product.id)}
            disabled={!product.inStock}
            className={clsx(
              'btn-primary',
              {
                'opacity-50 cursor-not-allowed': !product.inStock
              }
            )}
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  );
};

export default ProductCard;
```

**components/ProductCard/ProductCard.module.css**
```css
/* Complex animations and effects that are hard to achieve with Tailwind */
.productCard {
  position: relative;
}

.imageContainer {
  overflow: hidden;
}

.imageContainer img {
  transition: transform 0.3s ease;
}

.productCard:hover .imageContainer img {
  transform: scale(1.05);
}

.outOfStockOverlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.5));
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.quickViewButton {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  background: rgba(255, 255, 255, 0.95);
  color: #374151;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  z-index: 3;
}

.productCard:hover .quickViewButton {
  transform: translate(-50%, -50%) scale(1);
}

.quickViewButton:hover {
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Complex CSS Grid layout */
@media (min-width: 768px) {
  .productGrid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }
}

/* Custom scrollbar for product list */
.productList::-webkit-scrollbar {
  width: 6px;
}

.productList::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}

.productList::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, #3b82f6, #1e40af);
  border-radius: 3px;
}
```

---

## Performance Considerations {#performance}

### CSS Bundle Optimization

**1. CSS Code Splitting**
```tsx
// Lazy load component-specific styles
import dynamic from 'next/dynamic';

const HeavyComponent = dynamic(
  () => import('../components/HeavyComponent'),
  {
    loading: () => <div>Loading...</div>,
    ssr: false
  }
);

// This will only load HeavyComponent.module.css when needed
```

**2. Critical CSS**
```tsx
// app/layout.tsx
import './critical.css'; // Inline critical styles
import './globals.css';   // Non-critical styles

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <head>
        {/* Preload non-critical CSS */}
        <link
          rel="preload"
          href="/styles/non-critical.css"
          as="style"
          onLoad="this.onload=null;this.rel='stylesheet'"
        />
      </head>
      <body>{children}</body>
    </html>
  );
}
```

**3. Tailwind Purging**
```javascript
// tailwind.config.js
module.exports = {
  content: [
    './src/**/*.{js,ts,jsx,tsx}',
    // Include all files that use Tailwind classes
  ],
  // This automatically removes unused styles in production
}
```

### Performance Monitoring

**components/PerformanceWrapper.tsx**
```tsx
'use client';

import React, { useEffect } from 'react';

interface PerformanceWrapperProps {
  children: React.ReactNode;
  componentName: string;
}

const PerformanceWrapper: React.FC<PerformanceWrapperProps> = ({
  children,
  componentName
}) => {
  useEffect(() => {
    if (process.env.NODE_ENV === 'development') {
      const observer = new PerformanceObserver((list) => {
        const entries = list.getEntries();
        entries.forEach((entry) => {
          if (entry.name.includes(componentName)) {
            console.log(`${componentName} render time:`, entry.duration);
          }
        });
      });

      observer.observe({ entryTypes: ['measure'] });

      performance.mark(`${componentName}-start`);

      return () => {
        performance.mark(`${componentName}-end`);
        performance.measure(
          `${componentName}-render`,
          `${componentName}-start`,
          `${componentName}-end`
        );
        observer.disconnect();
      };
    }
  }, [componentName]);

  return <>{children}</>;
};

export default PerformanceWrapper;
```

---

## Best Practices {#best-practices}

### 1. CSS Organization

```
src/
├── styles/
│   ├── globals.css          # Global styles
│   ├── variables.css        # CSS custom properties
│   ├── components.css       # Global component styles
│   └── utilities.css        # Utility classes
├── components/
│   └── Button/
│       ├── Button.tsx
│       ├── Button.module.css
│       ├── Button.test.tsx
│       └── index.ts
```

### 2. Naming Conventions

**CSS Modules**
```css
/* Use BEM-like naming */
.button { }
.button--primary { }
.button--large { }
.button__icon { }
.button__text { }

/* State classes */
.button:hover { }
.button:focus { }
.button:disabled { }
.button.isLoading { }
```

**Tailwind Classes**
```tsx
// Order classes logically
className="
  // Layout
  flex items-center justify-center
  // Spacing
  px-4 py-2 m-2
  // Typography
  text-base font-medium
  // Colors
  bg-blue-500 text-white
  // Borders
  border border-gray-300 rounded-lg
  // Effects
  shadow-md hover:shadow-lg
  // Transitions
  transition-all duration-200
"
```

### 3. Component Design Patterns

**Compound Components with Styling**
```tsx
// components/Card/index.tsx
import React from 'react';
import { CardRoot } from './CardRoot';
import { CardHeader } from './CardHeader';
import { CardContent } from './CardContent';
import { CardFooter } from './CardFooter';

export const Card = {
  Root: CardRoot,
  Header: CardHeader,
  Content: CardContent,
  Footer: CardFooter,
};

// Usage
<Card.Root>
  <Card.Header>
    <h2>Card Title</h2>
  </Card.Header>
  <Card.Content>
    <p>Card content goes here</p>
  </Card.Content>
  <Card.Footer>
    <button>Action</button>
  </Card.Footer>
</Card.Root>
```

### 4. Responsive Design Patterns

```tsx
// Mobile-first responsive component
const ResponsiveGrid: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  return (
    <div className="
      grid
      grid-cols-1
      gap-4
      sm:grid-cols-2
      md:grid-cols-3
      lg:grid-cols-4
      xl:grid-cols-5
      2xl:grid-cols-6
    ">
      {children}
    </div>
  );
};
```

### 5. Dark Mode Implementation

```tsx
// hooks/useDarkMode.ts
import { useState, useEffect } from 'react';

export const useDarkMode = () => {
  const [isDark, setIsDark] = useState(false);

  useEffect(() => {
    const stored = localStorage.getItem('darkMode');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    setIsDark(stored ? JSON.parse(stored) : prefersDark);
  }, []);

  useEffect(() => {
    localStorage.setItem('darkMode', JSON.stringify(isDark));
    document.documentElement.classList.toggle('dark', isDark);
  }, [isDark]);

  return { isDark, setIsDark };
};

// components/DarkModeToggle.tsx
import React from 'react';
import { useDarkMode } from '../hooks/useDarkMode';

const DarkModeToggle: React.FC = () => {
  const { isDark, setIsDark } = useDarkMode();

  return (
    <button
      onClick={() => setIsDark(!isDark)}
      className="
        p-2 rounded-lg
        bg-gray-100 dark:bg-gray-800
        text-gray-800 dark:text-gray-200
        hover:bg-gray-200 dark:hover:bg-gray-700
        transition-colors duration-200
      "
    >
      {isDark ? '☀️' : '🌙'}
    </button>
  );
};
```

---

## Real-World Examples {#real-world-examples}

### E-commerce Product Page

```tsx
// pages/product/[id].tsx
import React, { useState } from 'react';
import Image from 'next/image';
import { clsx } from 'clsx';
import styles from './ProductPage.module.css';

interface Product {
  id: string;
  name: string;
  price: number;
  images: string[];
  description: string;
  specifications: { [key: string]: string };
  inStock: boolean;
  rating: number;
  reviews: number;
}

const ProductPage: React.FC<{ product: Product }> = ({ product }) => {
  const [selectedImage, setSelectedImage] = useState(0);
  const [quantity, setQuantity] = useState(1);

  return (
    <div className="max-w-7xl mx-auto px-4 py-8">
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
        {/* Product Images */}
        <div className={styles.imageGallery}>
          <div className="relative aspect-square mb-4">
            <Image
              src={product.images[selectedImage]}
              alt={product.name}
              fill
              className="object-cover rounded-lg"
              priority
            />
          </div>
          
          <div className="flex space-x-2 overflow-x-auto">
            {product.images.map((image, index) => (
              <button
                key={index}
                onClick={() => setSelectedImage(index)}
                className={clsx(
                  'flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors',
                  {
                    'border-primary-500': selectedImage === index,
                    'border-gray-200': selectedImage !== index
                  }
                )}
              >
                <Image
                  src={image}
                  alt={`${product.name} ${index + 1}`}
                  width={80}
                  height={80}
                  className="w-full h-full object-cover"
                />
              </button>
            ))}
          </div>
        </div>

        {/* Product Info */}
        <div className="space-y-6">
          <div>
            <h1 className="text-3xl font-bold text-gray-900 mb-2">
              {product.name}
            </h1>
            
            <div className="flex items-center space-x-4 mb-4">
              <div className="flex items-center">
                {[...Array(5)].map((_, i) => (
                  <svg
                    key={i}
                    className={clsx(
                      'w-5 h-5',
                      i < Math.floor(product.rating)
                        ? 'text-yellow-400'
                        : 'text-gray-300'
                    )}
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                ))}
                <span className="ml-2 text-gray-600">
                  ({product.reviews} reviews)
                </span>
              </div>
              
              <span className={clsx(
                'px-2 py-1 text-xs font-medium rounded',
                product.inStock
                  ? 'bg-green-100 text-green-800'
                  : 'bg-red-100 text-red-800'
              )}>
                {product.inStock ? 'In Stock' : 'Out of Stock'}
              </span>
            </div>
            
            <p className="text-3xl font-bold text-gray-900">
              ${product.price.toFixed(2)}
            </p>
          </div>

          <div>
            <h3 className="text-lg font-semibold mb-2">Description</h3>
            <p className="text-gray-600 leading-relaxed">
              {product.description}
            </p>
          </div>

          <div className="flex items-center space-x-4">
            <div>
              <label className="form-label">Quantity</label>
              <select
                value={quantity}
                onChange={(e) => setQuantity(Number(e.target.value))}
                className="form-input w-20"
              >
                {[...Array(10)].map((_, i) => (
                  <option key={i + 1} value={i + 1}>
                    {i + 1}
                  </option>
                ))}
              </select>
            </div>
            
            <button
              disabled={!product.inStock}
              className="btn-primary flex-1"
            >
              Add to Cart
            </button>
          </div>

          <div>
            <h3 className="text-lg font-semibold mb-2">Specifications</h3>
            <div className="space-y-2">
              {Object.entries(product.specifications).map(([key, value]) => (
                <div key={key} className="flex justify-between py-1 border-b border-gray-100">
                  <span className="text-gray-600">{key}</span>
                  <span className="font-medium">{value}</span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProductPage;
```

**ProductPage.module.css**
```css
.imageGallery {
  position: sticky;
  top: 2rem;
}

/* Custom image hover effects */
.imageGallery img {
  transition: transform 0.3s ease;
}

.imageGallery img:hover {
  transform: scale(1.02);
}

/* Custom scrollbar for thumbnail gallery */
.imageGallery .flex::-webkit-scrollbar {
  height: 4px;
}

.imageGallery .flex::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 2px;
}

.imageGallery .flex::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 2px;
}

/* Zoom effect on main image */
@media (min-width: 1024px) {
  .imageGallery .relative::after {
    content: '';
    position: absolute;
    top: 10px;
    right: 10px;
    width: 24px;
    height: 24px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    opacity: 0;
    transition: opacity 0.2s ease;
  }
  
  .imageGallery .relative:hover::after {
    opacity: 1;
    content: '🔍';
  }
}
```

### Dashboard Layout

```tsx
// components/Dashboard/DashboardLayout.tsx
import React, { useState } from 'react';
import { clsx } from 'clsx';
import styles from './DashboardLayout.module.css';

interface DashboardLayoutProps {
  children: React.ReactNode;
  sidebar: React.ReactNode;
  header: React.ReactNode;
}

const DashboardLayout: React.FC<DashboardLayoutProps> = ({
  children,
  sidebar,
  header
}) => {
  const [sidebarOpen, setSidebarOpen] = useState(false);

  return (
    <div className="h-screen flex overflow-hidden bg-gray-100">
      {/* Sidebar */}
      <div className={clsx(
        'fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0',
        {
          'translate-x-0': sidebarOpen,
          '-translate-x-full': !sidebarOpen
        }
      )}>
        {sidebar}
      </div>

      {/* Mobile sidebar backdrop */}
      {sidebarOpen && (
        <div
          className="fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden"
          onClick={() => setSidebarOpen(false)}
        />
      )}

      {/* Main content */}
      <div className="flex-1 flex flex-col overflow-hidden">
        {/* Header */}
        <header className="bg-white shadow-sm border-b border-gray-200 px-4 py-3">
          <div className="flex items-center justify-between">
            <button
              onClick={() => setSidebarOpen(!sidebarOpen)}
              className="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500"
            >
              <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
            {header}
          </div>
        </header>

        {/* Page content */}
        <main className={clsx('flex-1 overflow-y-auto', styles.mainContent)}>
          <div className="px-4 py-6 sm:px-6 lg:px-8">
            {children}
          </div>
        </main>
      </div>
    </div>
  );
};

export default DashboardLayout;
```

**DashboardLayout.module.css**
```css
/* Custom scrollbar for main content */
.mainContent::-webkit-scrollbar {
  width: 8px;
}

.mainContent::-webkit-scrollbar-track {
  background: #f1f5f9;
}

.mainContent::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.mainContent::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Smooth sidebar animation */
@media (max-width: 1024px) {
  .sidebarOverlay {
    backdrop-filter: blur(4px);
  }
}

/* Focus management for accessibility */
.mainContent:focus {
  outline: none;
}

/* Print styles */
@media print {
  .mainContent {
    overflow: visible !important;
    height: auto !important;
  }
}
```

This comprehensive guide covers all aspects of styling in Next.js with TypeScript, from basic concepts to advanced real-world implementations. Each approach has its place in modern web development, and understanding when and how to use them will make you a more effective developer.