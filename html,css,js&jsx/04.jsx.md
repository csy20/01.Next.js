# React.js - The UI Library

## What is React?

React is like having **LEGO blocks for websites**. Instead of building everything from scratch each time, you create reusable pieces (components) that you can combine to build complex user interfaces.

Think of it this way:
- **Traditional HTML/CSS/JS** = Building a house from scratch every time
- **React** = Having pre-made rooms (components) that you can arrange and customize

**Why React is awesome:**
- **Reusable Components** - Write once, use everywhere
- **Dynamic Updates** - Changes happen instantly without page reloads
- **Organized Code** - Everything is structured and easy to maintain
- **Popular** - Used by Facebook, Netflix, Airbnb, and millions of websites

## JSX - HTML in JavaScript

JSX looks like HTML but lives inside JavaScript. It's React's way of describing what the UI should look like.

### Basic JSX

```jsx
// This looks like HTML but it's actually JavaScript!
const greeting = <h1>Hello, World!</h1>;

// You can use it in functions
function Welcome() {
    return <div>Welcome to my website!</div>;
}

// JSX with variables
const name = "John";
const element = <h1>Hello, {name}!</h1>;
```

**Think of JSX as:** Writing HTML inside JavaScript, like putting a note inside a book.

### JSX Rules

```jsx
// 1. Must return a single parent element
function MyComponent() {
    return (
        <div>  {/* Single parent wrapper */}
            <h1>Title</h1>
            <p>Content</p>
        </div>
    );
}

// 2. Use className instead of class
const element = <div className="my-class">Content</div>;

// 3. Self-closing tags need /
const image = <img src="photo.jpg" alt="Photo" />;
const input = <input type="text" />;

// 4. Use camelCase for attributes
const button = <button onClick={handleClick}>Click me</button>;
```

### JavaScript in JSX

```jsx
function UserProfile() {
    const user = {
        name: "Alice",
        age: 28,
        isOnline: true
    };
    
    return (
        <div>
            <h1>Welcome, {user.name}!</h1>
            <p>Age: {user.age}</p>
            <p>Status: {user.isOnline ? "Online" : "Offline"}</p>
            <p>Next year you'll be {user.age + 1}</p>
        </div>
    );
}
```

## Components - Reusable UI Pieces

Components are like **custom HTML tags** that you create. They're the building blocks of React applications.

### Function Components (Modern Way)

```jsx
// Simple component
function Button() {
    return <button>Click me</button>;
}

// Component with logic
function WelcomeMessage() {
    const currentTime = new Date().toLocaleTimeString();
    
    return (
        <div>
            <h1>Welcome!</h1>
            <p>Current time: {currentTime}</p>
        </div>
    );
}

// Using components
function App() {
    return (
        <div>
            <WelcomeMessage />
            <Button />
            <Button />  {/* Reused! */}
        </div>
    );
}
```

### Component Organization

```jsx
// Header.jsx - A reusable header
function Header() {
    return (
        <header style={{ backgroundColor: '#333', color: 'white', padding: '20px' }}>
            <h1>My Website</h1>
            <nav>
                <a href="/">Home</a>
                <a href="/about">About</a>
                <a href="/contact">Contact</a>
            </nav>
        </header>
    );
}

// Footer.jsx - A reusable footer
function Footer() {
    const year = new Date().getFullYear();
    return (
        <footer style={{ textAlign: 'center', padding: '20px', backgroundColor: '#f0f0f0' }}>
            <p>&copy; {year} My Website. All rights reserved.</p>
        </footer>
    );
}

// App.jsx - Main application
function App() {
    return (
        <div>
            <Header />
            <main>
                <h2>Welcome to my website!</h2>
                <p>This is the main content.</p>
            </main>
            <Footer />
        </div>
    );
}
```

## Props - Passing Data to Components

Props are like **function arguments** for components. They let you pass data from a parent component to a child component.

### Basic Props

```jsx
// Component that receives props
function Greeting(props) {
    return <h1>Hello, {props.name}!</h1>;
}

// Using the component with props
function App() {
    return (
        <div>
            <Greeting name="Alice" />
            <Greeting name="Bob" />
            <Greeting name="Charlie" />
        </div>
    );
}
```

### Destructuring Props (Cleaner Syntax)

```jsx
// Instead of props.name, props.age, etc.
function UserCard(props) {
    return (
        <div>
            <h2>{props.name}</h2>
            <p>Age: {props.age}</p>
            <p>Job: {props.job}</p>
        </div>
    );
}

// Destructure props for cleaner code
function UserCard({ name, age, job }) {
    return (
        <div>
            <h2>{name}</h2>
            <p>Age: {age}</p>
            <p>Job: {job}</p>
        </div>
    );
}

// Usage
function App() {
    return (
        <div>
            <UserCard name="Alice" age={28} job="Designer" />
            <UserCard name="Bob" age={32} job="Developer" />
        </div>
    );
}
```

### Props with Different Data Types

```jsx
function ProductCard({ name, price, inStock, tags, onBuy }) {
    return (
        <div className="product-card">
            <h3>{name}</h3>
            <p>Price: ${price}</p>
            <p>Status: {inStock ? "In Stock" : "Out of Stock"}</p>
            
            <div>
                Tags: {tags.map(tag => (
                    <span key={tag} className="tag">{tag}</span>
                ))}
            </div>
            
            <button 
                onClick={onBuy}
                disabled={!inStock}
            >
                {inStock ? "Buy Now" : "Sold Out"}
            </button>
        </div>
    );
}

// Usage
function App() {
    const handlePurchase = () => {
        alert("Thanks for your purchase!");
    };
    
    return (
        <ProductCard
            name="Laptop"
            price={999}
            inStock={true}
            tags={["electronics", "computers", "portable"]}
            onBuy={handlePurchase}
        />
    );
}
```

## State (useState) - Dynamic Data

State is like a **component's memory**. It stores data that can change over time and automatically updates the UI when it changes.

### Basic useState

```jsx
import { useState } from 'react';

function Counter() {
    // useState returns [currentValue, functionToUpdateValue]
    const [count, setCount] = useState(0); // Start with 0
    
    const increment = () => {
        setCount(count + 1);
    };
    
    const decrement = () => {
        setCount(count - 1);
    };
    
    return (
        <div>
            <h2>Count: {count}</h2>
            <button onClick={increment}>+</button>
            <button onClick={decrement}>-</button>
        </div>
    );
}
```

**Think of useState as:** A magic box that remembers values and tells React to update the screen when they change.

### Different Types of State

```jsx
function UserProfile() {
    // String state
    const [name, setName] = useState("Guest");
    
    // Boolean state
    const [isLoggedIn, setIsLoggedIn] = useState(false);
    
    // Array state
    const [hobbies, setHobbies] = useState(["reading", "coding"]);
    
    // Object state
    const [user, setUser] = useState({
        email: "",
        age: 0,
        preferences: []
    });
    
    return (
        <div>
            <h1>Welcome, {name}!</h1>
            <p>Status: {isLoggedIn ? "Logged In" : "Guest"}</p>
            
            <input 
                type="text" 
                value={name}
                onChange={(e) => setName(e.target.value)}
                placeholder="Enter your name"
            />
            
            <button onClick={() => setIsLoggedIn(!isLoggedIn)}>
                {isLoggedIn ? "Log Out" : "Log In"}
            </button>
        </div>
    );
}
```

### Practical State Examples

```jsx
// Todo List with State
function TodoApp() {
    const [todos, setTodos] = useState([]);
    const [inputValue, setInputValue] = useState("");
    
    const addTodo = () => {
        if (inputValue.trim()) {
            const newTodo = {
                id: Date.now(),
                text: inputValue,
                completed: false
            };
            setTodos([...todos, newTodo]);
            setInputValue("");
        }
    };
    
    const toggleTodo = (id) => {
        setTodos(todos.map(todo => 
            todo.id === id 
                ? { ...todo, completed: !todo.completed }
                : todo
        ));
    };
    
    const deleteTodo = (id) => {
        setTodos(todos.filter(todo => todo.id !== id));
    };
    
    return (
        <div>
            <h1>My Todos</h1>
            
            <div>
                <input 
                    type="text"
                    value={inputValue}
                    onChange={(e) => setInputValue(e.target.value)}
                    placeholder="Add a todo..."
                />
                <button onClick={addTodo}>Add</button>
            </div>
            
            <ul>
                {todos.map(todo => (
                    <li key={todo.id}>
                        <span 
                            style={{ 
                                textDecoration: todo.completed ? 'line-through' : 'none' 
                            }}
                            onClick={() => toggleTodo(todo.id)}
                        >
                            {todo.text}
                        </span>
                        <button onClick={() => deleteTodo(todo.id)}>Delete</button>
                    </li>
                ))}
            </ul>
        </div>
    );
}
```

## useEffect - Side Effects and Lifecycle

useEffect is like a **component's assistant** that handles things like:
- Fetching data from servers
- Setting up timers
- Updating the page title
- Cleaning up when component disappears

### Basic useEffect

```jsx
import { useState, useEffect } from 'react';

function UserProfile() {
    const [user, setUser] = useState(null);
    const [loading, setLoading] = useState(true);
    
    // useEffect runs after component renders
    useEffect(() => {
        // Simulate fetching user data
        setTimeout(() => {
            setUser({
                name: "John Doe",
                email: "john@example.com"
            });
            setLoading(false);
        }, 2000);
    }, []); // Empty array means "run once when component mounts"
    
    if (loading) {
        return <div>Loading user data...</div>;
    }
    
    return (
        <div>
            <h1>{user.name}</h1>
            <p>{user.email}</p>
        </div>
    );
}
```

### useEffect with Dependencies

```jsx
function WeatherWidget({ city }) {
    const [weather, setWeather] = useState(null);
    const [loading, setLoading] = useState(false);
    
    useEffect(() => {
        if (!city) return;
        
        setLoading(true);
        
        // Fetch weather data when city changes
        fetch(`/api/weather/${city}`)
            .then(response => response.json())
            .then(data => {
                setWeather(data);
                setLoading(false);
            })
            .catch(error => {
                console.error('Error:', error);
                setLoading(false);
            });
    }, [city]); // Run effect when 'city' changes
    
    return (
        <div>
            <h2>Weather in {city}</h2>
            {loading ? (
                <p>Loading weather...</p>
            ) : weather ? (
                <div>
                    <p>Temperature: {weather.temp}°F</p>
                    <p>Condition: {weather.condition}</p>
                </div>
            ) : (
                <p>No weather data available</p>
            )}
        </div>
    );
}
```

### useEffect for Timers and Cleanup

```jsx
function Timer() {
    const [seconds, setSeconds] = useState(0);
    const [isRunning, setIsRunning] = useState(false);
    
    useEffect(() => {
        let interval = null;
        
        if (isRunning) {
            interval = setInterval(() => {
                setSeconds(prev => prev + 1);
            }, 1000);
        }
        
        // Cleanup function - runs when effect is cleaned up
        return () => {
            if (interval) {
                clearInterval(interval);
            }
        };
    }, [isRunning]); // Re-run when isRunning changes
    
    const reset = () => {
        setSeconds(0);
        setIsRunning(false);
    };
    
    return (
        <div>
            <h1>Timer: {seconds}s</h1>
            <button onClick={() => setIsRunning(!isRunning)}>
                {isRunning ? "Pause" : "Start"}
            </button>
            <button onClick={reset}>Reset</button>
        </div>
    );
}
```

## Putting It All Together - Complete React Application

```jsx
// App.jsx - Main application
import { useState, useEffect } from 'react';

// Reusable Header Component
function Header({ title, subtitle }) {
    return (
        <header style={{ 
            backgroundColor: '#2c3e50', 
            color: 'white', 
            padding: '20px',
            textAlign: 'center'
        }}>
            <h1>{title}</h1>
            {subtitle && <p>{subtitle}</p>}
        </header>
    );
}

// User Card Component
function UserCard({ user, onSelect, isSelected }) {
    return (
        <div 
            style={{
                border: isSelected ? '3px solid #3498db' : '1px solid #ddd',
                padding: '15px',
                margin: '10px',
                borderRadius: '8px',
                cursor: 'pointer',
                backgroundColor: isSelected ? '#ecf0f1' : 'white'
            }}
            onClick={() => onSelect(user)}
        >
            <h3>{user.name}</h3>
            <p>Email: {user.email}</p>
            <p>Posts: {user.posts}</p>
        </div>
    );
}

// User Details Component
function UserDetails({ user }) {
    const [posts, setPosts] = useState([]);
    const [loading, setLoading] = useState(false);
    
    useEffect(() => {
        if (!user) return;
        
        setLoading(true);
        
        // Simulate fetching user posts
        setTimeout(() => {
            const mockPosts = [
                { id: 1, title: "My first post", content: "Hello world!" },
                { id: 2, title: "React is awesome", content: "Learning React has been great!" },
                { id: 3, title: "Building components", content: "Components make code reusable." }
            ];
            setPosts(mockPosts.slice(0, user.posts));
            setLoading(false);
        }, 1000);
    }, [user]);
    
    if (!user) {
        return (
            <div style={{ textAlign: 'center', padding: '50px' }}>
                <h2>Select a user to view details</h2>
            </div>
        );
    }
    
    return (
        <div style={{ padding: '20px' }}>
            <h2>{user.name}'s Profile</h2>
            <p><strong>Email:</strong> {user.email}</p>
            <p><strong>Joined:</strong> {user.joinDate}</p>
            
            <h3>Recent Posts</h3>
            {loading ? (
                <p>Loading posts...</p>
            ) : (
                <div>
                    {posts.map(post => (
                        <div key={post.id} style={{
                            border: '1px solid #eee',
                            padding: '10px',
                            margin: '10px 0',
                            borderRadius: '4px'
                        }}>
                            <h4>{post.title}</h4>
                            <p>{post.content}</p>
                        </div>
                    ))}
                </div>
            )}
        </div>
    );
}

// Main App Component
function App() {
    const [users, setUsers] = useState([]);
    const [selectedUser, setSelectedUser] = useState(null);
    const [loading, setLoading] = useState(true);
    const [searchTerm, setSearchTerm] = useState("");
    
    // Fetch users on component mount
    useEffect(() => {
        // Simulate API call
        setTimeout(() => {
            const mockUsers = [
                { id: 1, name: "Alice Johnson", email: "alice@example.com", posts: 5, joinDate: "2023-01-15" },
                { id: 2, name: "Bob Smith", email: "bob@example.com", posts: 3, joinDate: "2023-02-20" },
                { id: 3, name: "Charlie Brown", email: "charlie@example.com", posts: 8, joinDate: "2023-01-10" },
                { id: 4, name: "Diana Prince", email: "diana@example.com", posts: 12, joinDate: "2022-12-05" }
            ];
            setUsers(mockUsers);
            setLoading(false);
        }, 1500);
    }, []);
    
    // Filter users based on search term
    const filteredUsers = users.filter(user => 
        user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        user.email.toLowerCase().includes(searchTerm.toLowerCase())
    );
    
    if (loading) {
        return (
            <div style={{ textAlign: 'center', padding: '50px' }}>
                <h2>Loading users...</h2>
            </div>
        );
    }
    
    return (
        <div>
            <Header 
                title="User Management App" 
                subtitle="Built with React Hooks"
            />
            
            <div style={{ display: 'flex', minHeight: '500px' }}>
                {/* Users List */}
                <div style={{ width: '40%', borderRight: '1px solid #ddd', padding: '20px' }}>
                    <h2>Users ({filteredUsers.length})</h2>
                    
                    <input
                        type="text"
                        placeholder="Search users..."
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                        style={{
                            width: '100%',
                            padding: '10px',
                            marginBottom: '20px',
                            border: '1px solid #ddd',
                            borderRadius: '4px'
                        }}
                    />
                    
                    {filteredUsers.map(user => (
                        <UserCard
                            key={user.id}
                            user={user}
                            onSelect={setSelectedUser}
                            isSelected={selectedUser?.id === user.id}
                        />
                    ))}
                </div>
                
                {/* User Details */}
                <div style={{ width: '60%' }}>
                    <UserDetails user={selectedUser} />
                </div>
            </div>
        </div>
    );
}

export default App;
```

## Key Concepts Summary

### 1. **Components** 
- Reusable pieces of UI
- Like custom HTML tags
- Keep them small and focused

### 2. **JSX**
- HTML-like syntax in JavaScript
- Use `{}` to embed JavaScript expressions
- Follow JSX rules (className, self-closing tags, etc.)

### 3. **Props**
- Data passed from parent to child components
- Read-only (immutable)
- Like function arguments

### 4. **State (useState)**
- Component's memory
- Triggers re-renders when changed
- Use for data that changes over time

### 5. **Effects (useEffect)**
- Handle side effects (API calls, timers, etc.)
- Dependency array controls when it runs
- Return cleanup function when needed

## Best Practices

1. **Keep components small** - Each component should do one thing well
2. **Use descriptive names** - `UserCard` is better than `Card`
3. **Destructure props** - `function Button({ text, onClick })` is cleaner
4. **Don't mutate state directly** - Always use the setter function
5. **Use keys for lists** - React needs them for efficient updates
6. **Handle loading and error states** - Always consider what happens while waiting for data

React might seem complex at first, but it's just JavaScript with some helpful patterns. Start with simple components and gradually build up to more complex applications. The key is practice - build lots of small projects to get comfortable with these concepts!
